(this["webpackJsonpmovie-search"]=this["webpackJsonpmovie-search"]||[]).push([[0],{16:function(e,t,c){},19:function(e,t,c){"use strict";c.r(t);var a=c(1),n=c.n(a),s=c(10),i=c.n(s),r=(c(16),c(0));function l(){return Object(r.jsx)("header",{className:"App-header",children:Object(r.jsx)("h1",{children:"Movie Search"})})}var o=c(4),j=c(2),b=c(8),h=c.n(b),u=c(6),d=c(9),m=c(11);function O(e){var t=e.movieDetails?e.movieDetails[0]:"",c=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}),a=new Intl.NumberFormat("en-US"),n=t?t.genres.map((function(e){return e.name})).join(", "):"";return Object(r.jsxs)("div",{id:"".concat(e.movieId,"-appended"),className:"movie-details-appended",children:[Object(r.jsx)("p",{children:Object(r.jsx)("strong",{children:t.tagline})}),Object(r.jsxs)("p",{children:[Object(r.jsx)("label",{children:"Genre(s):"})," ",n]}),Object(r.jsxs)("p",{children:[Object(r.jsx)("label",{children:"Rating Votes:"})," ","".concat(a.format(t.vote_count))]}),Object(r.jsxs)("p",{children:[Object(r.jsx)("label",{children:"Runtime:"})," ","".concat(Math.round(t.runtime/60)," hours, ").concat(t.runtime%60," minutes")]}),Object(r.jsxs)("p",{children:[Object(r.jsx)("label",{children:"Budget:"})," ",c.format(t.budget)]}),Object(r.jsxs)("p",{children:[Object(r.jsx)("label",{children:"Revenue:"})," ",c.format(t.revenue)]})]})}function p(e){var t=Object(a.useState)([]),c=Object(j.a)(t,2),n=c[0],s=c[1],i=Object(a.useState)([]),l=Object(j.a)(i,2),o=l[0],b=(l[1],Object(a.useState)([])),p=Object(j.a)(b,2);p[0],p[1];function v(){return(v=Object(m.a)(h.a.mark((function t(c){var a,i,r,l,o,j;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((a=document.getElementById("".concat(c,"-button"))).classList.toggle("active"),i=a.classList.contains("active"),0,!i||n[c]){t.next=19;break}return r="".concat(e.apiRoot,"/movie/").concat(c,"?api_key=").concat(e.apiKey),t.prev=6,t.next=9,fetch(r);case 9:return l=t.sent,t.next=12,l.json();case 12:o=t.sent,s(Object(d.a)(Object(d.a)({},n),{},Object(u.a)({},c,[o]))),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(6),console.error(t.t0);case 19:(j=a.nextElementSibling).style.maxHeight?j.style.maxHeight=null:j.style.maxHeight=j.scrollHeight+"px";case 21:case"end":return t.stop()}}),t,null,[[6,16]])})))).apply(this,arguments)}return Object(r.jsx)("div",{className:"movie-tiles",children:e.movies.map((function(e){return Object(r.jsx)("div",{className:"movie-tile",children:Object(r.jsxs)("div",{className:"movie-tile-container",children:[Object(r.jsx)("h3",{children:e.title}),Object(r.jsxs)("div",{className:"movie-tile-details",children:[Object(r.jsx)("img",{src:"https://image.tmdb.org/t/p/w185_and_h278_bestv2/".concat(e.poster_path),alt:e.title+" poster",className:e.poster_path?"movie-poster":"hide"}),Object(r.jsxs)("p",{className:"font-small",children:[Object(r.jsx)("label",{children:"Release Date: "}),e.release_date?new Intl.DateTimeFormat("en-us",{year:"numeric",month:"short",day:"2-digit"}).format(new Date(e.release_date)):e.release_date]}),Object(r.jsxs)("p",{className:"font-small",children:[Object(r.jsx)("label",{children:"Rating:"})," ",e.vote_average]}),Object(r.jsxs)("p",{className:"movie-desc",children:[Object(r.jsx)("label",{children:"Description"}),Object(r.jsx)("br",{}),e.overview]}),Object(r.jsxs)("button",{className:"movie-tile-details_button",id:"".concat(e.id,"-button"),onClick:function(){return function(e){return v.apply(this,arguments)}(e.id)},children:["More Info",Object(r.jsx)("span",{className:"plus",children:Object(r.jsx)("i",{className:"icon-plus"})}),Object(r.jsx)("span",{className:"minus",children:Object(r.jsx)("i",{className:"icon-minus"})})]}),Object(r.jsx)(O,{movieId:e.id,movieDetails:n[e.id],movieProdComps:o[e.id]})]})]})},e.id)}))})}function v(){var e="https://api.themoviedb.org/3",t="47117464b881c6659bf21cb0510534bb",c=Object(a.useState)("Star Trek"),n=Object(j.a)(c,2),s=n[0],i=n[1],l=Object(a.useState)([]),b=Object(j.a)(l,2),h=b[0],u=b[1],d=Object(a.useState)([]),m=Object(j.a)(d,2),O=m[0],v=m[1],x=Object(a.useState)("best-match"),f=Object(j.a)(x,2),g=f[0],N=f[1],y=Object(a.useState)(""),_=Object(j.a)(y,2),D=_[0],S=_[1],w=Object(a.useState)(0),A=Object(j.a)(w,2),M=A[0],k=A[1];return Object(a.useEffect)((function(){k(O.length)}),[O]),Object(a.useEffect)((function(){!function(e){var t={bestMatch:"best-match",title:"title",date:"release_date",rating:"vote_average"}[e],c=D,a=[];"best-match"===t?a=O:"title"===t?a=Object(o.a)(h).sort((function(e,t){var a=e.title.toUpperCase(),n=t.title.toUpperCase();return"Z"===c?a>n?-1:a<n?1:0:a<n?-1:a>n?1:0})):"vote_average"===t?a="Z"===c?Object(o.a)(h).sort((function(e,c){return e[t]-c[t]})):Object(o.a)(h).sort((function(e,c){return c[t]-e[t]})):"release_date"===t&&(a=Object(o.a)(h).sort((function(e,t){return"Z"===c?new Date(t.release_date)-new Date(e.release_date):new Date(e.release_date)-new Date(t.release_date)}))),u(a)}(g)}),[g,D]),Object(r.jsxs)("div",{className:"search-container",children:[Object(r.jsx)("form",{className:"search-form",onSubmit:function(c){if(c.preventDefault(),!s)return alert("Please enter a movie title."),!1;var a="".concat(e,"/search/movie?api_key=").concat(t,"&language=en-US&query=").concat(s,"&page=1&include_adult=false");fetch(a).then((function(e){return e.json()})).then((function(e){u(e.results.filter((function(e){return e.overview.length>0||e.poster_path}))),v(e.results.filter((function(e){return e.overview.length>0||e.poster_path})))}),(function(e){u(e)}))},children:Object(r.jsxs)("div",{className:"searchbox",children:[Object(r.jsx)("label",{className:"search-label",htmlFor:"query",children:"What movie are you looking for?"}),Object(r.jsx)("input",{className:"search-input",type:"text",name:"query",placeholder:"e.g., Pulp Fiction",value:s,onChange:function(e){return i(e.target.value)}}),Object(r.jsx)("button",{className:"search-button",type:"submit",children:"Search"})]})}),Object(r.jsxs)("div",{className:"search-results",children:[Object(r.jsxs)("div",{className:""!==s?"search-results-header":"hide",children:[Object(r.jsx)("div",{className:"search-results-header--left",children:Object(r.jsx)("h2",{children:h[0]?"Showing ".concat(M," ").concat(h.length>1?"Results":"Result"):"No movies were found for your search: ".concat(s)})}),Object(r.jsxs)("div",{className:"search-results-header--right ".concat(h.length>1?"":"hide"),children:[Object(r.jsx)("label",{children:"Sort by: "}),Object(r.jsxs)("select",{onChange:function(e){return function(e){var t=e.split(",");S(t[1]),N(t[0])}(e.target.value)},children:[Object(r.jsx)("option",{value:"bestMatch,A",children:"Best Match"}),Object(r.jsx)("option",{value:"title,A",children:"Title A-Z"}),Object(r.jsx)("option",{value:"title,Z",children:"Title Z-A"}),Object(r.jsx)("option",{value:"date,A",children:"Date (Ascending)"}),Object(r.jsx)("option",{value:"date,Z",children:"Date (Decending)"}),Object(r.jsx)("option",{value:"rating,A",children:"Rating (Ascending)"}),Object(r.jsx)("option",{value:"rating,Z",children:"Rating (Decending)"})]})]})]}),Object(r.jsx)(p,{movies:h,apiRoot:e,apiKey:t})]})]})}function x(){return Object(r.jsxs)("footer",{className:"App-footer",children:[Object(r.jsx)("div",{className:"App-footer-left",children:Object(r.jsxs)("ul",{children:[Object(r.jsx)("li",{children:"Max Blair"}),Object(r.jsx)("li",{children:Object(r.jsx)("a",{href:"mailto:maxjblair@gmail.com",children:"maxjblair@gmail.com"})})]})}),Object(r.jsx)("div",{className:"App-footer-right",children:Object(r.jsxs)("p",{children:["Movie information provided by ",Object(r.jsx)("a",{href:"https://www.themoviedb.org/",rel:"noreferrer",target:"_blank",alt:"The Movie Database (TMDb)",children:"The Movie Database (TMDb)"})]})})]})}var f=function(){return Object(r.jsxs)("div",{className:"App",children:[Object(r.jsx)(l,{}),Object(r.jsx)(v,{}),Object(r.jsx)(x,{})]})},g=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,20)).then((function(t){var c=t.getCLS,a=t.getFID,n=t.getFCP,s=t.getLCP,i=t.getTTFB;c(e),a(e),n(e),s(e),i(e)}))};i.a.render(Object(r.jsx)(n.a.StrictMode,{children:Object(r.jsx)(f,{})}),document.getElementById("root")),g()}},[[19,1,2]]]);
//# sourceMappingURL=main.a33e3a7e.chunk.js.map