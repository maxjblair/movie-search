(this["webpackJsonpmovie-search"]=this["webpackJsonpmovie-search"]||[]).push([[0],{16:function(e,t,c){},19:function(e,t,c){"use strict";c.r(t);var a=c(1),n=c.n(a),s=c(10),i=c.n(s),r=(c(16),c(0));function l(){return Object(r.jsx)("header",{className:"App-header",children:Object(r.jsx)("h1",{children:"Movie Search"})})}var o=c(6),j=c(2),b=c(9),u=c.n(b),d=c(4),h=c(3),m=c(11);function O(e){var t=e.movieProdComps,c=e.movieProdImgs,a=e.movieDetails?e.movieDetails[0]:"",n=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}),s=new Intl.NumberFormat("en-US"),i=a?a.genres.map((function(e){return e.name})).join(", "):"";return Object(r.jsxs)("div",{id:"".concat(e.movieId,"-appended"),className:"movie-details-appended",children:[Object(r.jsx)("p",{children:Object(r.jsx)("strong",{children:a.tagline})}),Object(r.jsxs)("p",{children:[Object(r.jsx)("label",{children:"Genre(s):"})," ",i]}),Object(r.jsxs)("p",{children:[Object(r.jsx)("label",{children:"Rating Votes:"})," ","".concat(s.format(a.vote_count))]}),Object(r.jsxs)("p",{children:[Object(r.jsx)("label",{children:"Runtime:"})," ","".concat(Math.round(a.runtime/60)," hours, ").concat(a.runtime%60," minutes")]}),Object(r.jsxs)("p",{children:[Object(r.jsx)("label",{children:"Budget:"})," ",n.format(a.budget)]}),Object(r.jsxs)("p",{children:[Object(r.jsx)("label",{children:"Revenue:"})," ",n.format(a.revenue)]}),Object(r.jsx)("p",{className:c&&c.length>0?"":"hide",children:Object(r.jsx)("label",{children:"Production Companies:"})}),Object(r.jsx)("div",{children:c&&c.length>0?c.map((function(c,a){return Object(r.jsx)("img",{className:"production-images",src:"https://image.tmdb.org/t/p/w45/".concat(c),alt:t[a]},"".concat(e.movieId,"-").concat(a))})):""})]})}function p(e){var t=Object(a.useState)([]),c=Object(j.a)(t,2),n=c[0],s=c[1],i=Object(a.useState)([]),l=Object(j.a)(i,2),o=l[0],b=l[1],p=Object(a.useState)([]),v=Object(j.a)(p,2),x=v[0],f=v[1];function g(){return(g=Object(m.a)(u.a.mark((function t(c){var a,i,r,l,j,m,O;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((a=document.getElementById("".concat(c,"-button"))).classList.toggle("active"),i=a.classList.contains("active"),r=0,!i||n[c]){t.next=22;break}return l="".concat(e.apiRoot,"/movie/").concat(c,"?api_key=").concat(e.apiKey),r=100,t.prev=7,t.next=10,fetch(l);case 10:return j=t.sent,t.next=13,j.json();case 13:m=t.sent,s(Object(h.a)(Object(h.a)({},n),{},Object(d.a)({},c,[m]))),b(Object(h.a)(Object(h.a)({},o),{},Object(d.a)({},c,m.production_companies.filter((function(e){return e.logo_path})).map((function(e){return e.name}))))),f(Object(h.a)(Object(h.a)({},x),{},Object(d.a)({},c,m.production_companies.filter((function(e){return e.logo_path})).map((function(e){return e.logo_path}))))),t.next=22;break;case 19:t.prev=19,t.t0=t.catch(7),console.error(t.t0);case 22:O=a.nextElementSibling,setTimeout((function(){O.style.maxHeight?O.style.maxHeight=null:O.style.maxHeight=O.scrollHeight+"px"}),r);case 24:case"end":return t.stop()}}),t,null,[[7,19]])})))).apply(this,arguments)}return Object(r.jsx)("div",{className:"movie-tiles",children:e.movies.map((function(e){return Object(r.jsx)("div",{className:"movie-tile",children:Object(r.jsxs)("div",{className:"movie-tile-container",children:[Object(r.jsx)("h3",{children:e.title}),Object(r.jsxs)("div",{className:"movie-tile-details",children:[Object(r.jsx)("img",{src:"https://image.tmdb.org/t/p/w185_and_h278_bestv2/".concat(e.poster_path),alt:e.title+" poster",className:e.poster_path?"movie-poster":"hide"}),Object(r.jsxs)("p",{className:"font-small",children:[Object(r.jsx)("label",{children:"Release Date: "}),e.release_date?new Intl.DateTimeFormat("en-us",{year:"numeric",month:"short",day:"2-digit"}).format(new Date(e.release_date)):e.release_date]}),Object(r.jsxs)("p",{className:"font-small",children:[Object(r.jsx)("label",{children:"Rating:"})," ",e.vote_average]}),Object(r.jsxs)("p",{className:"movie-desc",children:[Object(r.jsx)("label",{children:"Description"}),Object(r.jsx)("br",{}),e.overview]}),Object(r.jsxs)("button",{className:"movie-tile-details_button",id:"".concat(e.id,"-button"),onClick:function(){return function(e){return g.apply(this,arguments)}(e.id)},children:["More Info",Object(r.jsx)("span",{className:"plus",children:Object(r.jsx)("i",{className:"icon-plus"})}),Object(r.jsx)("span",{className:"minus",children:Object(r.jsx)("i",{className:"icon-minus"})})]}),Object(r.jsx)(O,{movieId:e.id,movieDetails:n[e.id],movieProdComps:o[e.id],movieProdImgs:x[e.id]})]})]})},e.id)}))})}function v(){var e="https://api.themoviedb.org/3",t="47117464b881c6659bf21cb0510534bb",c=Object(a.useState)("Star Trek"),n=Object(j.a)(c,2),s=n[0],i=n[1],l=Object(a.useState)([]),b=Object(j.a)(l,2),u=b[0],d=b[1],h=Object(a.useState)([]),m=Object(j.a)(h,2),O=m[0],v=m[1],x=Object(a.useState)("best-match"),f=Object(j.a)(x,2),g=f[0],N=f[1],_=Object(a.useState)(""),y=Object(j.a)(_,2),D=y[0],w=y[1],S=Object(a.useState)(0),A=Object(j.a)(S,2),M=A[0],I=A[1];return Object(a.useEffect)((function(){I(O.length)}),[O]),Object(a.useEffect)((function(){!function(e){var t={bestMatch:"best-match",title:"title",date:"release_date",rating:"vote_average"}[e],c=D,a=[];"best-match"===t?a=O:"title"===t?a=Object(o.a)(u).sort((function(e,t){var a=e.title.toUpperCase(),n=t.title.toUpperCase();return"Z"===c?a>n?-1:a<n?1:0:a<n?-1:a>n?1:0})):"vote_average"===t?a="Z"===c?Object(o.a)(u).sort((function(e,c){return e[t]-c[t]})):Object(o.a)(u).sort((function(e,c){return c[t]-e[t]})):"release_date"===t&&(a=Object(o.a)(u).sort((function(e,t){return"Z"===c?new Date(t.release_date)-new Date(e.release_date):new Date(e.release_date)-new Date(t.release_date)}))),d(a)}(g)}),[g,D]),Object(r.jsxs)("div",{className:"search-container",children:[Object(r.jsx)("form",{className:"search-form",onSubmit:function(c){if(c.preventDefault(),!s)return alert("Please enter a movie title."),!1;var a="".concat(e,"/search/movie?api_key=").concat(t,"&language=en-US&query=").concat(s,"&page=1&include_adult=false");fetch(a).then((function(e){return e.json()})).then((function(e){d(e.results.filter((function(e){return e.overview.length>0||e.poster_path}))),v(e.results.filter((function(e){return e.overview.length>0||e.poster_path})))}),(function(e){d(e)}))},children:Object(r.jsxs)("div",{className:"searchbox",children:[Object(r.jsx)("label",{className:"search-label",htmlFor:"query",children:"What movie are you looking for?"}),Object(r.jsx)("input",{className:"search-input",type:"text",name:"query",placeholder:"e.g., Pulp Fiction",value:s,onChange:function(e){return i(e.target.value)}}),Object(r.jsx)("button",{className:"search-button",type:"submit",children:"Search"})]})}),Object(r.jsxs)("div",{className:"search-results",children:[Object(r.jsxs)("div",{className:""!==s?"search-results-header":"hide",children:[Object(r.jsx)("div",{className:"search-results-header--left",children:Object(r.jsx)("h2",{children:u[0]?"Showing ".concat(M," ").concat(u.length>1?"Results":"Result"):"No movies were found for your search: ".concat(s)})}),Object(r.jsxs)("div",{className:"search-results-header--right ".concat(u.length>1?"":"hide"),children:[Object(r.jsx)("label",{children:"Sort by: "}),Object(r.jsxs)("select",{onChange:function(e){return function(e){var t=e.split(",");w(t[1]),N(t[0])}(e.target.value)},children:[Object(r.jsx)("option",{value:"bestMatch,A",children:"Best Match"}),Object(r.jsx)("option",{value:"title,A",children:"Title A-Z"}),Object(r.jsx)("option",{value:"title,Z",children:"Title Z-A"}),Object(r.jsx)("option",{value:"date,A",children:"Date (Ascending)"}),Object(r.jsx)("option",{value:"date,Z",children:"Date (Decending)"}),Object(r.jsx)("option",{value:"rating,A",children:"Rating (Ascending)"}),Object(r.jsx)("option",{value:"rating,Z",children:"Rating (Decending)"})]})]})]}),Object(r.jsx)(p,{movies:u,apiRoot:e,apiKey:t})]})]})}function x(){return Object(r.jsxs)("footer",{className:"App-footer",children:[Object(r.jsx)("div",{className:"App-footer-left",children:Object(r.jsxs)("ul",{children:[Object(r.jsx)("li",{children:"Max Blair"}),Object(r.jsx)("li",{children:Object(r.jsx)("a",{href:"mailto:maxjblair@gmail.com",children:"maxjblair@gmail.com"})})]})}),Object(r.jsx)("div",{className:"App-footer-right",children:Object(r.jsxs)("p",{children:["Movie information provided by ",Object(r.jsx)("a",{href:"https://www.themoviedb.org/",rel:"noreferrer",target:"_blank",alt:"The Movie Database (TMDb)",children:"The Movie Database (TMDb)"})]})})]})}var f=function(){return Object(r.jsxs)("div",{className:"App",children:[Object(r.jsx)(l,{}),Object(r.jsx)(v,{}),Object(r.jsx)(x,{})]})},g=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,20)).then((function(t){var c=t.getCLS,a=t.getFID,n=t.getFCP,s=t.getLCP,i=t.getTTFB;c(e),a(e),n(e),s(e),i(e)}))};i.a.render(Object(r.jsx)(n.a.StrictMode,{children:Object(r.jsx)(f,{})}),document.getElementById("root")),g()}},[[19,1,2]]]);
//# sourceMappingURL=main.5ae61aff.chunk.js.map